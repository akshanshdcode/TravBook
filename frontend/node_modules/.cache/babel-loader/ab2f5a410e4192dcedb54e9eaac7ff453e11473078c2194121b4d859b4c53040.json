{"ast":null,"code":"import React,{useEffect,useRef,useContext}from'react';import{Container,Row,Button}from'reactstrap';import{NavLink,Link,useNavigate}from'react-router-dom';import{CgProfile}from\"react-icons/cg\";import Logo from'../../assets/images/NewLogoTravBook.png';import\"./header.css\";import{AuthContext}from'../../context/AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var nav__links=[{path:'/home',display:'Home'},{path:'/tours',display:'Tours'},{path:'/myexpense',display:'Expenses'},{path:'/createtour',display:'CreateTour'},{path:'/bookings',display:'Bookings'},{path:'/about',display:'About'}];var Header=function Header(){var headerRef=useRef(null);var menuRef=useRef(null);var navigate=useNavigate();var _useContext=useContext(AuthContext),user=_useContext.user,dispatch=_useContext.dispatch;var logout=function logout(){dispatch({type:'LOGOUT'});navigate('/');};var stickyHeaderFunc=function stickyHeaderFunc(){window.addEventListener('scroll',function(){if(document.body.scrollTop>80||document.documentElement.scrollTop>80){headerRef.current.classList.add('sticky__header');}else{headerRef.current.classList.remove('sticky__header');}});};useEffect(function(){stickyHeaderFunc();return window.removeEventListener('scroll',stickyHeaderFunc);});var toggleMenu=function toggleMenu(){return menuRef.current.classList.toggle('show__menu');};return/*#__PURE__*/_jsx(\"header\",{className:\"header\",ref:headerRef,children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"nav__wrapper d-flex align-items-center justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"navigation\",ref:menuRef,onClick:toggleMenu,children:/*#__PURE__*/_jsx(\"ul\",{className:\"menu d-flex align-items-center gap-5\",children:nav__links.filter(function(navLink){return(user===null||user===void 0?void 0:user.role)=='provider'||navLink.path!='/createtour';}).filter(function(navLink){return(user===null||user===void 0?void 0:user.role)=='provider'||(user===null||user===void 0?void 0:user.role)=='admin'||navLink.path!='/bookings';}).filter(function(navLink){return(user===null||user===void 0?void 0:user.role)=='user'||navLink.path!='/myexpense';}).map(function(item,index){return/*#__PURE__*/_jsx(\"li\",{className:\"nav__item\",children:/*#__PURE__*/_jsx(NavLink,{to:item.path,className:function className(navClass){return navClass.isActive?'active__link':'';},children:item.display})},index);})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav__right d-flex align-items-center gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav__btns d-flex align-items-center gap-2\",children:user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(NavLink,{style:{textDecoration:'none',color:'#000',display:'flex',alignItems:'center'},id:true,to:\"/profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"username\",children:user.username}),/*#__PURE__*/_jsx(\"div\",{className:\"profile\",children:/*#__PURE__*/_jsx(CgProfile,{})})]}),/*#__PURE__*/_jsx(Button,{className:\"btn btn-dark\",onClick:logout,children:\"Logout\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{className:\"btn secondary__btn\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})}),/*#__PURE__*/_jsx(Button,{className:\"btn primary__btn\",children:/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})})]})}),/*#__PURE__*/_jsx(\"span\",{className:\"mobile__menu\",onClick:toggleMenu,children:/*#__PURE__*/_jsx(\"i\",{class:\"ri-menu-line\"})})]})]})})})});};export default Header;","map":{"version":3,"names":["React","useEffect","useRef","useContext","Container","Row","Button","NavLink","Link","useNavigate","CgProfile","Logo","AuthContext","nav__links","path","display","Header","headerRef","menuRef","navigate","user","dispatch","logout","type","stickyHeaderFunc","window","addEventListener","document","body","scrollTop","documentElement","current","classList","add","remove","removeEventListener","toggleMenu","toggle","filter","navLink","role","map","item","index","navClass","isActive","textDecoration","color","alignItems","username"],"sources":["/Users/akshansh/workspace/Minor II/TravBook/reactjs-tours-travels-booking/frontend/src/components/Header/Header.jsx"],"sourcesContent":["import React, { useEffect, useRef, useContext } from 'react'\nimport { Container, Row, Button } from 'reactstrap'\nimport { NavLink, Link, useNavigate } from 'react-router-dom'\nimport { CgProfile } from \"react-icons/cg\";\nimport Logo from '../../assets/images/NewLogoTravBook.png'\nimport \"./header.css\"\nimport { AuthContext } from '../../context/AuthContext'\n\nconst nav__links = [\n   {\n      path: '/home',\n      display: 'Home'\n   },\n   {\n      path: '/tours',\n      display: 'Tours'\n   },\n   {\n      path: '/myexpense',\n      display: 'Expenses'\n   },\n   {\n      path: '/createtour',\n      display: 'CreateTour'\n   },\n   {\n      path: '/bookings',\n      display: 'Bookings'\n   },\n   {\n      path: '/about',\n      display: 'About'\n   }\n]\n\nconst Header = () => {\n   const headerRef = useRef(null)\n   const menuRef = useRef(null)\n   const navigate = useNavigate()\n   const { user, dispatch } = useContext(AuthContext)\n\n   const logout = () => {\n      dispatch({ type: 'LOGOUT' })\n      navigate('/')\n   }\n\n   const stickyHeaderFunc = () => {\n      window.addEventListener('scroll', () => {\n         if (document.body.scrollTop > 80 || document.documentElement.scrollTop > 80) {\n            headerRef.current.classList.add('sticky__header')\n         } else {\n            headerRef.current.classList.remove('sticky__header')\n         }\n      });\n   };\n\n   useEffect(() => {\n      stickyHeaderFunc()\n\n      return window.removeEventListener('scroll', stickyHeaderFunc)\n   })\n\n   const toggleMenu = () => menuRef.current.classList.toggle('show__menu')\n\n   return (\n      <header className='header' ref={headerRef}>\n         <Container>\n            <Row>\n               <div className=\"nav__wrapper d-flex align-items-center justify-content-between\">\n\n                  <div className=\"logo\">\n                     <img src={Logo} alt=\"\" />\n                  </div>\n\n                  \n                  <div className=\"navigation\" ref={menuRef} onClick={toggleMenu}>\n                     <ul className=\"menu d-flex align-items-center gap-5\">\n                        {\n                           nav__links.filter(navLink => user?.role == 'provider' || navLink.path != '/createtour').filter(navLink => user?.role == 'provider' || user?.role == 'admin' || navLink.path != '/bookings').filter(navLink => user?.role == 'user' || navLink.path != '/myexpense').map((item, index) => (\n                              <li className=\"nav__item\" key={index}>\n                                 <NavLink to={item.path} className={navClass => navClass.isActive ? 'active__link' : ''}>{item.display}</NavLink>\n                              </li>\n                           ))\n                        }\n                     </ul>\n                  </div>\n\n\n                  <div className=\"nav__right d-flex align-items-center gap-4\">\n                     <div className=\"nav__btns d-flex align-items-center gap-2\">\n                        {\n                           user ? <>\n                                 <NavLink style={{textDecoration: 'none',color: '#000', display: 'flex', alignItems: 'center'}} id to='/profile'>\n                                    <div className='username'>{user.username}</div>\n                                    <div className='profile'>\n                                    <CgProfile/>\n                                    </div>\n                                 </NavLink>\n                                 <Button className='btn btn-dark' onClick={logout}>Logout</Button>\n                              </> : <>\n                                 <Button className='btn secondary__btn'><Link to='/login'>Login</Link></Button>\n                                 <Button className='btn primary__btn'><Link to='/register'>Register</Link></Button>\n                              </>\n                        }\n                        {/* <Button className='btn secondary__btn'><Link to='/login'>Login</Link></Button>\n                        <Button className='btn primary__btn'><Link to='/register'>Register</Link></Button> */}\n                     </div>\n\n                     <span className=\"mobile__menu\" onClick={toggleMenu}>\n                        <i class=\"ri-menu-line\"></i>\n                     </span>\n                  </div>\n               </div>\n            </Row>\n         </Container>\n      </header>\n   )\n}\n\nexport default Header"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,MAAM,CAAEC,UAAU,KAAQ,OAAO,CAC5D,OAASC,SAAS,CAAEC,GAAG,CAAEC,MAAM,KAAQ,YAAY,CACnD,OAASC,OAAO,CAAEC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CAC7D,OAASC,SAAS,KAAQ,gBAAgB,CAC1C,MAAOC,KAAI,KAAM,yCAAyC,CAC1D,MAAO,cAAc,CACrB,OAASC,WAAW,KAAQ,2BAA2B,8IAEvD,GAAMC,WAAU,CAAG,CAChB,CACGC,IAAI,CAAE,OAAO,CACbC,OAAO,CAAE,MACZ,CAAC,CACD,CACGD,IAAI,CAAE,QAAQ,CACdC,OAAO,CAAE,OACZ,CAAC,CACD,CACGD,IAAI,CAAE,YAAY,CAClBC,OAAO,CAAE,UACZ,CAAC,CACD,CACGD,IAAI,CAAE,aAAa,CACnBC,OAAO,CAAE,YACZ,CAAC,CACD,CACGD,IAAI,CAAE,WAAW,CACjBC,OAAO,CAAE,UACZ,CAAC,CACD,CACGD,IAAI,CAAE,QAAQ,CACdC,OAAO,CAAE,OACZ,CAAC,CACH,CAED,GAAMC,OAAM,CAAG,QAATA,OAAM,EAAS,CAClB,GAAMC,UAAS,CAAGf,MAAM,CAAC,IAAI,CAAC,CAC9B,GAAMgB,QAAO,CAAGhB,MAAM,CAAC,IAAI,CAAC,CAC5B,GAAMiB,SAAQ,CAAGV,WAAW,EAAE,CAC9B,gBAA2BN,UAAU,CAACS,WAAW,CAAC,CAA1CQ,IAAI,aAAJA,IAAI,CAAEC,QAAQ,aAARA,QAAQ,CAEtB,GAAMC,OAAM,CAAG,QAATA,OAAM,EAAS,CAClBD,QAAQ,CAAC,CAAEE,IAAI,CAAE,QAAS,CAAC,CAAC,CAC5BJ,QAAQ,CAAC,GAAG,CAAC,CAChB,CAAC,CAED,GAAMK,iBAAgB,CAAG,QAAnBA,iBAAgB,EAAS,CAC5BC,MAAM,CAACC,gBAAgB,CAAC,QAAQ,CAAE,UAAM,CACrC,GAAIC,QAAQ,CAACC,IAAI,CAACC,SAAS,CAAG,EAAE,EAAIF,QAAQ,CAACG,eAAe,CAACD,SAAS,CAAG,EAAE,CAAE,CAC1EZ,SAAS,CAACc,OAAO,CAACC,SAAS,CAACC,GAAG,CAAC,gBAAgB,CAAC,CACpD,CAAC,IAAM,CACJhB,SAAS,CAACc,OAAO,CAACC,SAAS,CAACE,MAAM,CAAC,gBAAgB,CAAC,CACvD,CACH,CAAC,CAAC,CACL,CAAC,CAEDjC,SAAS,CAAC,UAAM,CACbuB,gBAAgB,EAAE,CAElB,MAAOC,OAAM,CAACU,mBAAmB,CAAC,QAAQ,CAAEX,gBAAgB,CAAC,CAChE,CAAC,CAAC,CAEF,GAAMY,WAAU,CAAG,QAAbA,WAAU,SAASlB,QAAO,CAACa,OAAO,CAACC,SAAS,CAACK,MAAM,CAAC,YAAY,CAAC,GAEvE,mBACG,eAAQ,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAEpB,SAAU,uBACvC,KAAC,SAAS,wBACP,KAAC,GAAG,wBACD,aAAK,SAAS,CAAC,gEAAgE,wBAE5E,YAAK,SAAS,CAAC,MAAM,uBAClB,YAAK,GAAG,CAAEN,IAAK,CAAC,GAAG,CAAC,EAAE,EAAG,EACtB,cAGN,YAAK,SAAS,CAAC,YAAY,CAAC,GAAG,CAAEO,OAAQ,CAAC,OAAO,CAAEkB,UAAW,uBAC3D,WAAI,SAAS,CAAC,sCAAsC,UAE9CvB,UAAU,CAACyB,MAAM,CAAC,SAAAC,OAAO,QAAI,CAAAnB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEoB,IAAI,GAAI,UAAU,EAAID,OAAO,CAACzB,IAAI,EAAI,aAAa,GAAC,CAACwB,MAAM,CAAC,SAAAC,OAAO,QAAI,CAAAnB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEoB,IAAI,GAAI,UAAU,EAAI,CAAApB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEoB,IAAI,GAAI,OAAO,EAAID,OAAO,CAACzB,IAAI,EAAI,WAAW,GAAC,CAACwB,MAAM,CAAC,SAAAC,OAAO,QAAI,CAAAnB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEoB,IAAI,GAAI,MAAM,EAAID,OAAO,CAACzB,IAAI,EAAI,YAAY,GAAC,CAAC2B,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,qBACjR,WAAI,SAAS,CAAC,WAAW,uBACtB,KAAC,OAAO,EAAC,EAAE,CAAED,IAAI,CAAC5B,IAAK,CAAC,SAAS,CAAE,mBAAA8B,QAAQ,QAAIA,SAAQ,CAACC,QAAQ,CAAG,cAAc,CAAG,EAAE,EAAC,UAAEH,IAAI,CAAC3B,OAAO,EAAW,EADpF4B,KAAK,CAE/B,EACP,CAAC,EAEH,EACF,cAGN,aAAK,SAAS,CAAC,4CAA4C,wBACxD,YAAK,SAAS,CAAC,2CAA2C,UAEpDvB,IAAI,cAAG,wCACD,MAAC,OAAO,EAAC,KAAK,CAAE,CAAC0B,cAAc,CAAE,MAAM,CAACC,KAAK,CAAE,MAAM,CAAEhC,OAAO,CAAE,MAAM,CAAEiC,UAAU,CAAE,QAAQ,CAAE,CAAC,EAAE,MAAC,EAAE,CAAC,UAAU,wBAC5G,YAAK,SAAS,CAAC,UAAU,UAAE5B,IAAI,CAAC6B,QAAQ,EAAO,cAC/C,YAAK,SAAS,CAAC,SAAS,uBACxB,KAAC,SAAS,IAAE,EACN,GACC,cACV,KAAC,MAAM,EAAC,SAAS,CAAC,cAAc,CAAC,OAAO,CAAE3B,MAAO,UAAC,QAAM,EAAS,GACjE,cAAG,wCACH,KAAC,MAAM,EAAC,SAAS,CAAC,oBAAoB,uBAAC,KAAC,IAAI,EAAC,EAAE,CAAC,QAAQ,UAAC,OAAK,EAAO,EAAS,cAC9E,KAAC,MAAM,EAAC,SAAS,CAAC,kBAAkB,uBAAC,KAAC,IAAI,EAAC,EAAE,CAAC,WAAW,UAAC,UAAQ,EAAO,EAAS,GAClF,EAIN,cAEN,aAAM,SAAS,CAAC,cAAc,CAAC,OAAO,CAAEc,UAAW,uBAChD,UAAG,KAAK,CAAC,cAAc,EAAK,EACxB,GACJ,GACH,EACH,EACG,EACN,CAEf,CAAC,CAED,cAAepB,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}