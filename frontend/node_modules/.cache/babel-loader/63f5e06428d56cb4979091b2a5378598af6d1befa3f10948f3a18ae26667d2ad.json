{"ast":null,"code":"import React,{useContext}from'react';import{Card,CardBody}from'reactstrap';import{AuthContext}from'../context/AuthContext.js';import{Link}from'react-router-dom';import'./tour-card.css';import calculateAvgRating from'../utils/avgRating';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TourCard=function TourCard(_ref){var tour=_ref.tour;var _useContext=useContext(AuthContext),user=_useContext.user;var _id=tour._id,title=tour.title,city=tour.city,photo=tour.photo,price=tour.price,featured=tour.featured,reviews=tour.reviews;var _calculateAvgRating=calculateAvgRating(reviews),totalRating=_calculateAvgRating.totalRating,avgRating=_calculateAvgRating.avgRating;return/*#__PURE__*/_jsx(\"div\",{className:\"tour__card\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tour__img\",children:[/*#__PURE__*/_jsx(\"img\",{src:photo,alt:\"tour-img\"}),featured&&/*#__PURE__*/_jsx(\"span\",{children:\"Featured\"})]}),/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card__top d-flex align-items-center justify-content-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"tour__location d-flex align-items-center gap-1\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-map-pin-line\"}),\" \",city]}),/*#__PURE__*/_jsxs(\"span\",{className:\"tour__rating d-flex align-items-center gap-1\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-fill\"}),\" \",avgRating===0?null:avgRating,totalRating===0?'Not rated':/*#__PURE__*/_jsxs(\"span\",{children:[\"(\",reviews.length,\")\"]})]})]}),/*#__PURE__*/_jsx(\"h5\",{className:\"tour__title\",children:/*#__PURE__*/_jsx(Link,{to:\"/tours/\".concat(_id),children:title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__bottom d-flex align-items-center justify-content-between mt-3\",children:[/*#__PURE__*/_jsxs(\"h5\",{children:[\"Rs.\",price,\" \",/*#__PURE__*/_jsx(\"span\",{children:\" /per person\"})]}),user&&user.role===\"user\"&&/*#__PURE__*/_jsx(Link,{to:\"/tours/\".concat(_id),children:/*#__PURE__*/_jsx(\"button\",{className:\" booking__btn\",children:\"Book Now\"})}),user&&user.role===\"admin\"&&/*#__PURE__*/_jsx(Link,{to:\"/tours/\".concat(_id),children:/*#__PURE__*/_jsx(\"button\",{className:\" booking__btn\",children:\"View Tour\"})})]})]})]})});};export default TourCard;","map":{"version":3,"names":["React","useContext","Card","CardBody","AuthContext","Link","calculateAvgRating","TourCard","tour","user","_id","title","city","photo","price","featured","reviews","totalRating","avgRating","length","role"],"sources":["/Users/akshansh/workspace/Minor II/TravBook/reactjs-tours-travels-booking/frontend/src/shared/TourCard.jsx"],"sourcesContent":["import React, { useContext } from 'react'\nimport { Card, CardBody } from 'reactstrap'\nimport { AuthContext } from '../context/AuthContext.js'\nimport { Link } from 'react-router-dom'\nimport './tour-card.css'\nimport calculateAvgRating from '../utils/avgRating'\n\nconst TourCard = ({ tour }) => {\n\n\n   const { user } = useContext(AuthContext);\n\n   const { _id, title, city, photo, price, featured, reviews } = tour\n\n   const { totalRating, avgRating } = calculateAvgRating(reviews)\n\n   return (\n      <div className='tour__card'>\n         <Card>\n            <div className=\"tour__img\">\n               <img src={photo} alt=\"tour-img\" />\n               {featured && <span>Featured</span>}\n            </div>\n\n            <CardBody>\n               <div className=\"card__top d-flex align-items-center justify-content-between\">\n                  <span className=\"tour__location d-flex align-items-center gap-1\">\n                     <i class='ri-map-pin-line'></i> {city}\n                  </span>\n                  <span className=\"tour__rating d-flex align-items-center gap-1\">\n                     <i class='ri-star-fill'></i> {avgRating === 0 ? null : avgRating}\n                     {totalRating === 0 ? ('Not rated') : (<span>({reviews.length})</span>)}\n\n                  </span>\n               </div>\n\n               <h5 className='tour__title'><Link to={`/tours/${_id}`}>{title}</Link></h5>\n\n               <div className=\"card__bottom d-flex align-items-center justify-content-between mt-3\">\n                  <h5>Rs.{price} <span> /per person</span></h5>\n\n                  {/* <button className=' booking__btn'>\n                     <Link to={`/tours/${_id}`}>Book Now</Link>\n                  </button> */}\n                  {user && user.role === \"user\" && (\n                  <Link to={`/tours/${_id}`}>\n                     <button className=' booking__btn'>Book Now</button>\n                  </Link>\n                  )}\n                  {user && user.role === \"admin\" && (\n                  <Link to={`/tours/${_id}`}>\n                     <button className=' booking__btn'>View Tour</button>\n                  </Link>\n                  )}\n               </div>\n            </CardBody>\n         </Card>\n      </div>\n   )\n}\n\nexport default TourCard"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,UAAU,KAAQ,OAAO,CACzC,OAASC,IAAI,CAAEC,QAAQ,KAAQ,YAAY,CAC3C,OAASC,WAAW,KAAQ,2BAA2B,CACvD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,iBAAiB,CACxB,MAAOC,mBAAkB,KAAM,oBAAoB,yFAEnD,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,MAAiB,IAAXC,KAAI,MAAJA,IAAI,CAGrB,gBAAiBP,UAAU,CAACG,WAAW,CAAC,CAAhCK,IAAI,aAAJA,IAAI,CAEZ,GAAQC,IAAG,CAAmDF,IAAI,CAA1DE,GAAG,CAAEC,KAAK,CAA4CH,IAAI,CAArDG,KAAK,CAAEC,IAAI,CAAsCJ,IAAI,CAA9CI,IAAI,CAAEC,KAAK,CAA+BL,IAAI,CAAxCK,KAAK,CAAEC,KAAK,CAAwBN,IAAI,CAAjCM,KAAK,CAAEC,QAAQ,CAAcP,IAAI,CAA1BO,QAAQ,CAAEC,OAAO,CAAKR,IAAI,CAAhBQ,OAAO,CAEzD,wBAAmCV,kBAAkB,CAACU,OAAO,CAAC,CAAtDC,WAAW,qBAAXA,WAAW,CAAEC,SAAS,qBAATA,SAAS,CAE9B,mBACG,YAAK,SAAS,CAAC,YAAY,uBACxB,MAAC,IAAI,yBACF,aAAK,SAAS,CAAC,WAAW,wBACvB,YAAK,GAAG,CAAEL,KAAM,CAAC,GAAG,CAAC,UAAU,EAAG,CACjCE,QAAQ,eAAI,sBAAM,UAAQ,EAAO,GAC/B,cAEN,MAAC,QAAQ,yBACN,aAAK,SAAS,CAAC,6DAA6D,wBACzE,cAAM,SAAS,CAAC,gDAAgD,wBAC7D,UAAG,KAAK,CAAC,iBAAiB,EAAK,IAAC,CAACH,IAAI,GACjC,cACP,cAAM,SAAS,CAAC,8CAA8C,wBAC3D,UAAG,KAAK,CAAC,cAAc,EAAK,IAAC,CAACM,SAAS,GAAK,CAAC,CAAG,IAAI,CAAGA,SAAS,CAC/DD,WAAW,GAAK,CAAC,CAAI,WAAW,cAAK,wBAAM,GAAC,CAACD,OAAO,CAACG,MAAM,CAAC,GAAC,GAAQ,GAElE,GACJ,cAEN,WAAI,SAAS,CAAC,aAAa,uBAAC,KAAC,IAAI,EAAC,EAAE,kBAAYT,GAAG,CAAG,UAAEC,KAAK,EAAQ,EAAK,cAE1E,aAAK,SAAS,CAAC,qEAAqE,wBACjF,sBAAI,KAAG,CAACG,KAAK,CAAC,GAAC,oCAAM,cAAY,EAAO,GAAK,CAK5CL,IAAI,EAAIA,IAAI,CAACW,IAAI,GAAK,MAAM,eAC7B,KAAC,IAAI,EAAC,EAAE,kBAAYV,GAAG,CAAG,uBACvB,eAAQ,SAAS,CAAC,eAAe,UAAC,UAAQ,EAAS,EAErD,CACAD,IAAI,EAAIA,IAAI,CAACW,IAAI,GAAK,OAAO,eAC9B,KAAC,IAAI,EAAC,EAAE,kBAAYV,GAAG,CAAG,uBACvB,eAAQ,SAAS,CAAC,eAAe,UAAC,WAAS,EAAS,EAEtD,GACE,GACE,GACP,EACJ,CAEZ,CAAC,CAED,cAAeH,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}