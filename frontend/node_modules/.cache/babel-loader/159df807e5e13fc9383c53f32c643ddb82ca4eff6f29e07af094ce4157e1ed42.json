{"ast":null,"code":"import _regeneratorRuntime from\"/Users/akshansh/workspace/Minor II/TravBook/reactjs-tours-travels-booking/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/akshansh/workspace/Minor II/TravBook/reactjs-tours-travels-booking/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/akshansh/workspace/Minor II/TravBook/reactjs-tours-travels-booking/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/akshansh/workspace/Minor II/TravBook/reactjs-tours-travels-booking/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/akshansh/workspace/Minor II/TravBook/reactjs-tours-travels-booking/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from'react';import'../styles/create-tour.css';import{BASE_URL}from'../utils/config';import{AuthContext}from'../context/AuthContext';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateTourForm=function CreateTourForm(){var _useContext=useContext(AuthContext),user=_useContext.user;var navigate=useNavigate();var _useState=useState({title:'',city:'',address:'',distance:'',photo:'',desc:'',price:'',maxGroupSize:'',featured:'',providerId:user._id,providerName:user.username}),_useState2=_slicedToArray(_useState,2),tour=_useState2[0],setTour=_useState2[1];var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setTour(_objectSpread(_objectSpread({},tour),{},_defineProperty({},name,value)));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(tour);e.preventDefault();_context.prev=2;_context.next=5;return fetch(\"\".concat(BASE_URL,\"/create/\").concat(user._id),{method:'post',headers:{'content-type':'application/json'},credentials:'include',body:JSON.stringify(tour)});case 5:res=_context.sent;_context.next=8;return res.json();case 8:result=_context.sent;alert(result.message);navigate('/profile');if(res.ok){_context.next=13;break;}return _context.abrupt(\"return\",alert(result.message));case 13:_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](2);alert(_context.t0.message);case 18:case\"end\":return _context.stop();}},_callee,null,[[2,15]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{className:\"form-container\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[\"Title:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",placeholder:\"Title\",value:tour.title,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[\"City:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"city\",placeholder:\"City\",value:tour.city,onChange:handleChange,required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[\"Address:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"address\",placeholder:\"Address\",value:tour.address,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[\"Distance:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"distance\",placeholder:\"Distance\",value:tour.distance,onChange:handleChange,required:true})]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"photo\",placeholder:\"Photo URL\",value:tour.photo,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"textarea\",{name:\"desc\",placeholder:\"Description\",value:tour.desc,onChange:handleChange,required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[\"Price:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",placeholder:\"Price\",value:tour.price,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[\"Max Group Size:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"maxGroupSize\",placeholder:\"Max Group Size\",value:tour.maxGroupSize,onChange:handleChange,required:true})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create Tour Package\"})]});};export default CreateTourForm;","map":{"version":3,"names":["React","useState","useContext","BASE_URL","AuthContext","useNavigate","CreateTourForm","user","navigate","title","city","address","distance","photo","desc","price","maxGroupSize","featured","providerId","_id","providerName","username","tour","setTour","handleChange","e","target","name","value","handleSubmit","console","log","preventDefault","fetch","method","headers","credentials","body","JSON","stringify","res","json","result","alert","message","ok"],"sources":["/Users/akshansh/workspace/Minor II/TravBook/reactjs-tours-travels-booking/frontend/src/pages/CreateTourForm.jsx"],"sourcesContent":["import React, { useState, useContext } from 'react';\nimport '../styles/create-tour.css'\nimport { BASE_URL } from '../utils/config'\nimport { AuthContext } from '../context/AuthContext'\nimport { useNavigate } from 'react-router-dom';\n\nconst CreateTourForm = () => {\n\n  const { user } = useContext(AuthContext)\n  const navigate = useNavigate()\n  \n  const [tour, setTour] = useState({\n    title: '',\n    city: '',\n    address: '',\n    distance: '',\n    photo: '',\n    desc: '',\n    price: '',\n    maxGroupSize: '',\n    featured: '',\n    providerId: user._id,\n    providerName: user.username,\n  });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setTour({\n      ...tour,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    console.log(tour)\n    e.preventDefault();\n    try {\n      const res = await fetch(`${BASE_URL}/create/${user._id}`, {\n        method: 'post',\n            headers: {\n               'content-type': 'application/json'\n            },\n            credentials: 'include',\n            body: JSON.stringify(tour)\n      });\n         const result = await res.json()\n        alert(result.message)\n        navigate('/profile')\n         if(!res.ok) {\n            return alert(result.message)\n         }\n      } catch (error) {\n         alert(error.message)\n      }  \n  };\n\n  return (\n    <form className=\"form-container\" onSubmit={handleSubmit}>\n  <div className=\"row\">\n    <div className=\"col\">\n      Title:\n      <input type=\"text\" name=\"title\" placeholder=\"Title\" value={tour.title} onChange={handleChange} required />\n    </div>\n    <div className=\"col\">\n      City:\n      <input type=\"text\" name=\"city\" placeholder=\"City\" value={tour.city} onChange={handleChange} required />\n    </div>\n  </div>\n  <div className=\"row\">\n    <div className=\"col\">\n      Address:\n      <input type=\"text\" name=\"address\" placeholder=\"Address\" value={tour.address} onChange={handleChange} required />\n    </div>\n    <div className=\"col\">\n      Distance:\n      <input type=\"number\" name=\"distance\" placeholder=\"Distance\" value={tour.distance} onChange={handleChange} required />\n    </div>\n  </div>\n  <input type=\"text\" name=\"photo\" placeholder=\"Photo URL\" value={tour.photo} onChange={handleChange} required />\n  <textarea name=\"desc\" placeholder=\"Description\" value={tour.desc} onChange={handleChange} required />\n  <div className=\"row\">\n    <div className=\"col\">\n      Price:\n      <input type=\"number\" name=\"price\" placeholder=\"Price\" value={tour.price} onChange={handleChange} required />\n    </div>\n    <div className=\"col\">\n      Max Group Size:\n      <input type=\"number\" name=\"maxGroupSize\" placeholder=\"Max Group Size\" value={tour.maxGroupSize} onChange={handleChange} required />\n    </div>\n  </div>\n  <button type=\"submit\">Create Tour Package</button>\n</form>\n\n  );\n};\n\nexport default CreateTourForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}